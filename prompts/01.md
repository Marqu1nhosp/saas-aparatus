## Objetivo

Este documento é um prompt de implementação para desenvolvedores/assistentes (IA) que devem criar a página de detalhe de uma barbearia em `app/barbershops/[id]/page.tsx` segundo o design do Figma e as regras do projeto.

## Contexto e tecnologias

- Projeto: SaaS de agendamento para barbearias.
- Tecnologias: Next.js (App Router), React 19, Prisma 7, Tailwind + shadcn/ui, `next/image`.

## Regras obrigatórias

- Use componentes do `shadcn/ui` sempre que possível (não reinventar componentes).
- Use as cores definidas no tema (evitar cores hard-coded do Tailwind).
- Use `rem` para medidas; evite `px`.
- Use `next/image` para imagens.
- Não chamar Prisma diretamente nos componentes; crie funções na pasta `data/` para acesso ao banco (ex.: `getBarbershopById`).
- Utilize os componentes de layout existentes em `components/ui/page.tsx` quando aplicar estrutura de página.

## Requisitos Funcionais (aceitação)

1. A página de detalhe deve buscar a barbearia pelo `id` da URL usando uma função em `data/` (ex.: `getBarbershopById(id)`) e incluir os serviços relacionados.
2. O banner superior deve exibir a imagem `imageUrl` da barbearia usando `next/image` e manter proporção/cobertura consistentemente com o Figma.
3. Exibir nome, endereço e descrição da barbearia conforme o design.
4. Renderizar a lista de serviços: para cada serviço, usar o componente `components/service-item.tsx` (criar se necessário) recebendo o `service` como prop.
5. O botão `Reservar` em cada serviço deve ser um no-op (não navegar, não submeter) — apenas o estilo/estado visual.
6. No bloco de contato, cada telefone listado deve ter um botão `Copiar` que copia o número para o clipboard (fornecer feedback visual breve, ex.: "Copiado").
7. O botão `Voltar` no banner deve chamar `history.back()` (ou `window.history.back()` em componente cliente).

## Critérios de implementação

- Server components: buscar dados no servidor (função em `data`) e renderizar UI; componentes interativos (`CopyButton`, `BackButton`, `ServiceItem`) devem usar `"use client"`.
- Acesso a dados: usar `prisma.barbershop.findUnique({ where: { id }, include: { services: true } })` (em arquivo `data/barbershops.ts`).
- Tipagem: exportar tipos/props claros para `ServiceItem` e as funções `data/`.
- Acessibilidade: botões devem ter `aria-label` apropriado.

## Checklist de aceitação (para revisão)

- [ ] `getBarbershopById` existe em `data/barbershops.ts` e retorna a barbearia com `services`.
- [ ] `app/barbershops/[id]/page.tsx` usa `getBarbershopById` e chama `notFound()` quando não existe.
- [ ] `components/service-item.tsx` existe e recebe `service` como prop; inclui botão `Reservar` (no-op).
- [ ] `app/barbershops/[id]/_components/copy-button.tsx` existe e copia para o clipboard com feedback.
- [ ] `app/barbershops/[id]/_components/back-button.tsx` existe e realiza `history.back()`.
- [ ] As cores e medidas seguem o tema e `rem` respectivamente.
- [ ] `next/image` é usado para imagens principais.

## Como executar (para quem for implementar)

1. Implementar/atualizar `data/barbershops.ts` com `getBarbershopById(id)`.
2. Criar `components/service-item.tsx` (cliente) conforme critérios.
3. Criar componentes `copy-button.tsx` e `back-button.tsx` em `app/barbershops/[id]/_components/` (cliente).
4. Atualizar `app/barbershops/[id]/page.tsx` para consumir a função de dados e renderizar a UI.
5. Rodar `npx tsc --noEmit` e `npm run dev` para testar localmente.

---

Se desejar, a próxima etapa automática é: eu posso gerar/escrever os arquivos esqueleto (`getBarbershopById`, `service-item.tsx`, `copy-button.tsx`, `back-button.tsx`) e aplicar correções no `page.tsx` para alinhar ao prompt — confirme se quer que eu execute essas mudanças agora.
